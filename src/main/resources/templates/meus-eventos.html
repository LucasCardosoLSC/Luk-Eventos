<th:block th:fragment="content">
    <div class="container">
        <div class="row mb-4">
            <div class="col-md-8">
                <h2>Meus Eventos</h2>
            </div>
            <div class="col-md-4 text-end">
                <a th:href="@{/eventos/novo}" class="btn btn-primary">Criar Evento</a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="eventoTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="pendentes-tab" data-bs-toggle="tab" data-bs-target="#pendentes" type="button" role="tab">Pendentes</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="aprovados-tab" data-bs-toggle="tab" data-bs-target="#aprovados" type="button" role="tab">Aprovados</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="rejeitados-tab" data-bs-toggle="tab" data-bs-target="#rejeitados" type="button" role="tab">Rejeitados</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="eventoTabsContent">
                            <!-- Eventos Pendentes -->
                            <div class="tab-pane fade show active" id="pendentes" role="tabpanel">
                                <div class="table-responsive mt-3">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Nome</th>
                                                <th>Data</th>
                                                <th>Local</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="evento : ${eventosPendentes}">
                                                <td th:text="${evento.titulo}">Nome</td>
                                                <td th:text="${#temporals.format(evento.dataInicio, 'dd/MM/yyyy HH:mm')}">Data</td>
                                                <td th:text="${evento.localEvento}">Local</td>
                                                <td>
                                                    <a th:href="@{/eventos/{id}(id=${evento.id})}" class="btn btn-sm btn-info">Detalhes</a>
                                                    <a th:href="@{/eventos/{id}/editar(id=${evento.id})}" class="btn btn-sm btn-warning">Editar</a>
                                                    <a th:href="@{/eventos/{id}/excluir(id=${evento.id})}" class="btn btn-sm btn-danger">Excluir</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Eventos Aprovados -->
                            <div class="tab-pane fade" id="aprovados" role="tabpanel">
                                <div class="table-responsive mt-3">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Nome</th>
                                                <th>Data</th>
                                                <th>Local</th>
                                                <th>Inscrições</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="evento : ${eventosAprovados}">
                                                <td th:text="${evento.titulo}">Nome</td>
                                                <td th:text="${#temporals.format(evento.dataInicio, 'dd/MM/yyyy HH:mm')}">Data</td>
                                                <td th:text="${evento.localEvento}">Local</td>
                                                <td th:text="${evento.inscricoes.size()}">0</td>
                                                <td>
                                                    <a th:href="@{/eventos/{id}(id=${evento.id})}" class="btn btn-sm btn-info">Detalhes</a>
                                                    <a th:href="@{/eventos/{id}/inscricoes(id=${evento.id})}" class="btn btn-sm btn-primary">Gerenciar Inscrições</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Eventos Rejeitados -->
                            <div class="tab-pane fade" id="rejeitados" role="tabpanel">
                                <div class="table-responsive mt-3">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Nome</th>
                                                <th>Data</th>
                                                <th>Local</th>
                                                <th>Feedback</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="evento : ${eventosRejeitados}">
                                                <td th:text="${evento.titulo}">Nome</td>
                                                <td th:text="${#temporals.format(evento.dataInicio, 'dd/MM/yyyy HH:mm')}">Data</td>
                                                <td th:text="${evento.localEvento}">Local</td>
                                                <td th:text="${evento.feedback}">Feedback</td>
                                                <td>
                                                    <a th:href="@{/eventos/{id}(id=${evento.id})}" class="btn btn-sm btn-info">Detalhes</a>
                                                    <a th:href="@{/eventos/{id}/editar(id=${evento.id})}" class="btn btn-sm btn-warning">Editar</a>
                                                    <a th:href="@{/eventos/{id}/excluir(id=${evento.id})}" 
                                                       class="btn btn-sm btn-danger"
                                                       onclick="return confirm('Tem certeza que deseja excluir este evento?')">Excluir</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</th:block> 